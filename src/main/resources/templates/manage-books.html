
<!DOCTYPE html>
<html lang ="en" xmlns:th="https://www.thymeleaf.org"  th:replace="~{base::layout(~{::section})}">


<!-- Mirrored from themes.getappui.com/techzaa/velonic/layouts/auth-login.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 10 May 2024 11:14:42 GMT --><head>
	<meta charset="UTF-8">
	<title>Manage Books</title>
</head>
<body class="hold-transition sidebar-mini layout-fixed">
	<section class="wrapper">

		<!-- Content Wrapper. Contains page content -->
		<div class="content-wrapper">
			<!-- Content Header (Page header) -->
			<div class="content-header">
				<div class="container-fluid">
					<div class="row mb-2">
						<div class="col-sm-6">
							<!-- <h1 class="m-0 text-dark">Dashboard</h1> -->
						</div>
						<!-- /.col -->
						<div class="col-sm-6">
							<ol class="breadcrumb float-sm-right">
								<!-- <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item active">Dashboard v1</li> -->
							</ol>
						</div>
						<!-- /.col -->
					</div>
					<!-- /.row -->
				</div>
				<!-- /.container-fluid -->
			</div>
			<!-- /.content-header -->

			<!-- Main content -->
			<section class="content">
				<div class="container-fluid" >
					<!-- Small boxes (Stat box) -->
<div th:if="${param.success}" id="myDiv" class="bg-success fade-in-element" style="color:white;padding:10px;width:50%;margin:auto">
					<p>book added successfully</p>
				</div>
				<div th:if="${param.success}" id="myDiv" class="bg-success fade-in-element" style="color:white;padding:10px;width:50%;margin:auto">
					<p>book updated successfully</p>
				</div>



					<div th:if="${session.succMsg}" class="bg-info shadow-sm" >

						<p class="fade-in-element text-center fw-bold"style="color:white;padding:10px;width:50%;margin:auto">[[${session.succMsg}]]</p>

							<div
								th:text="${@commonServiceImpl.removeSessionStorage()}">

						</div>
					</div>
					<div th:if="${session.errorMsg}" class="bg-info shadow-sm">

						<p class="fade-in-element text-center text-danger fw-bold"style="color:red;padding:10px;width:50%;margin:auto">[[${session.errorMsg}]]</p>

							<div
								th:text="${@commonServiceImpl.removeSessionStorage()}">

						</div>
					</div>



					<h5 class="text-primary"
						style="margin-bottom: -45px; text-align: center">Manage Books</h5>
					<div class="row " style="margin-top: 50px;border-top:4px solid aqua">
						<!-- <h5 style="color:#124491;text-align: center;margin: auto;">Books Details</h5> -->
						<div class="container-fluid">
							<div class="card">
								<div class="card-header row" style="width: 100%;">
									<button type="button" class="btn btn-success"
										data-toggle="modal" data-target="#add-book">Register
										a new Book</button>

									<div class="row" style="margin-left: auto">
										<form class="row" th:action="@{/books}" method="GET">
											<div class="col-auto">

												<select class="input-group-append"
													aria-lebel=".form-select-sm example" name="sortBy">

													<option selected>Sort By Names</option>

													<option value="fullname"
														th:selected="${sortBy == 'title'}">Book Name</option>
													<option value="email" th:selected="${sortBy == 'category'}">Category</option>

												</select>

											</div>


											<div class="col-auto">
												<button class="btn btn-secondary btn-sm" type="submit">Apply</button>
											</div>
										</form>
									</div>


									<div class="modal fade" id="add-book">
										<div class="modal-dialog modal-xl modal-dialog-scrollable">
											<div class="modal-content">
												<div class="modal-header">
													<h4 class="modal-title"></h4>
													<button type="button" class="close" data-dismiss="modal"
														aria-label="Close">
														<span aria-hidden="true">&times;</span>
													</button>
												</div>
												<div class="modal-body">
													<div class="card">
														<h4 class="text-primary" style="text-align: center;">Add
															a New Book</h4>
														<div class="card-body">

															<form class="form-sample" method="post"
																th:action="@{/add-book}" role="form"
																th:object="${books}">
																<fieldset style="border: 1px solid aqua; padding: 20px;">
																	<legend>Book Info</legend>
																	<!-- <p class="card-description" style="font-weight: bold;margin-left: 3%;margin-bottom: 10px;"> Personal info </p> -->
																	<div class="row">
																		<div class="col-md-6">
																			<div class="form-group row">
																				<label id="bookTitle"
																					class="col-sm-3 col-form-label"
																					style="font-weight: normal;">Book Tttle</label>
																				<div class="col-sm-9">
																					<input th:field="*{title}" type="text"
																						class="form-control" id="bookTitle"
																						name="book_title" required
																						placeholder="Book Title" />
																				</div>
																			</div>
																		</div>
																		<div class="col-md-6">
																			<div class="form-group row">
																				<label id="bookAuthors"
																					class="col-sm-3 col-form-label"
																					style="font-weight: normal;">Authors</label>
																				<div class="col-sm-9">
																					<input th:field="*{authors}" type="text"
																						class="form-control" id="bookAuthors"
																						name="book_authors" required
																						placeholder="Book Authors">


																				</div>
																			</div>
																		</div>

																	</div>
																	<div class="row">
																		<div class="col-md-6">
																			<div class="form-group row">
																				<label id="bookISBN" class="col-sm-3 col-form-label"
																					style="font-weight: normal;">ISBN</label>
																				<div class="col-sm-9">
																					<input th:field="*{isbn}" type="text"
																						class="form-control" id="bookISBN"
																						name="book_isbn" required placeholder="Book ISBN">
																				</div>
																			</div>
																		</div>
																		<div class="col-md-6">
																			<div class="form-group row">
																				<label id="bookPublisher"
																					class="col-sm-3 col-form-label"
																					style="font-weight: normal;">Publisher</label>
																				<div class="col-sm-9">
																					<input th:field="*{publisher}" type="text"
																						class="form-control" placeholder="publisher"
																						id="bookPublisher" name="book_publisher" required />
																				</div>
																			</div>
																		</div>
																	</div>
																	<div class="row">
																		<div class="col-md-6">
																			<div class="form-group row">
																				<label id="bookPublicationDate"
																					class="col-sm-3 col-form-label"
																					style="font-weight: normal;">Publication
																					Date</label>
																				<div class="col-sm-9">
																					<input th:field="*{publication_date}" type="date"
																						class="form-control input-lg"
																						id="bookPublicationDate"
																						name="book_publication_date"
																						placeholder="publication date" required>
																				</div>
																			</div>
																		</div>
																		<div class="col-md-6">
																			<div class="form-group row">
																				<label id="bookEdition"
																					class="col-sm-3 col-form-label"
																					style="font-weight: normal;">Edition</label>
																				<div class="col-sm-9">
																					<input th:field="*{edition}" type="text"
																						class="form-control" id="bookEdition"
																						name="book_edition" placeholder="book edition"
																						required>
																				</div>
																			</div>
																		</div>
																	</div>
																	<div class="row">
																		<div class="col-md-6">
																			<div class="form-group row">
																				<label id="bookLanguage"
																					class="col-sm-3 col-form-label"
																					style="font-weight: normal;">Language</label>
																				<div class="col-sm-9">
																					<input th:field="*{language}" type="text"
																						class="form-control" id="bookLanguage"
																						name="book_language" required
																						placeholder="book language  eg. English, German...">
																				</div>
																			</div>
																		</div>
																		<div class="col-md-6">
																			<div class="form-group row">
																				<label id="bookCategory"
																					class="col-sm-3 col-form-label"
																					style="font-weight: normal;">Category</label>
																				<div class="col-sm-9">
																					<select th:field="*{category}" class="form-control"
																						id="bookCategory" name="book_category" required>
																						<option value="computing">Computing</option>
																						<option value="business">Business</option>
																						<option value="medicine">Medicine</option>
																						<option value="economics">Economics</option>
																					</select>
																				</div>
																			</div>
																		</div>

																	</div>
																	<div class="row">
																		<div class="col-md-6">
																			<div class="form-group row">
																				<label id="bookPublicationDate"
																					class="col-sm-3 col-form-label"
																					style="font-weight: normal;">Quantity</label>
																				<div class="col-sm-9">
																					<input th:field="*{quantity}" type="number"
																						class="form-control input-lg"
																						id="bookPublicationDate"
																						name="book_publication_date"
																						placeholder="publication date" required>
																				</div>
																			</div>
																		</div>
																		<div class="col-md-6"></div>
																	</div>
														</div>
														</fieldset>
														<div class="modal-footer justify-content-between">
															<button type="button" class="btn btn-danger"
																data-dismiss="modal">Close</button>
															<button type="submit" class="btn btn-success">Submit</button>
														</div>
														</form>
													</div>
												</div>
											</div>

										</div>
										<!-- /.modal-content -->
									</div>



									<div class="card-tools"></div>
								</div>
								<!-- /.card-header -->
								<div class="card-body table-responsive p-0">

									<table
										class="table table-hover table-sm text-nowrap table-head-fixed table-bordered">




										<thead class="thead-light">
											<tr>
												
												<th>Book Title</th>

												<th>ISBN</th>

												<th>Publication Date</th>
												<th>Edition</th>
												<th>Language</th>
												<th>Category</th>
												<th>Quantity</th>

												<th colspan="2">Action</th>
											</tr>
										</thead>
										<tbody>
											<tr th:each="book: ${bookPage}">
												<td th:text="${book.title}"></td>

												<td th:text="${book.isbn}"></td>

												<td th:text="${book.publication_date}"></td>
												<td th:text="${book.edition}"></td>
												<td th:text="${book.language}"></td>
												<td th:text="${book.category}"></td>
												<td th:text="${book.quantity}"></td>
												<td th:text="${book.status}"></td>
												<td><a th:href="@{/editBook/{id}(id = ${book.id})}" class="btn btn-warning">
														Edit</a></td>
												<td><a  th:href="@{/deleteBook/{id}(id = ${book.id})}" class='btn btn-danger '>
														Delete</a></td>
											</tr>

										</tbody>
									</table>
									<ul class="pagination">
										<li class="page-item" th:if="${bookPage.hasPrevious()}">
											<a class="page-link"
											th:href="@{|/books?pageNo=${bookPage.getNumber() - 1}&pageSize=${bookPage.getSize()}&sortBy=${sortBy}|}">Previous</a>
										</li>

										<span
											th:each="i : ${#numbers.sequence(0, bookPage.getTotalPages() - 1)}">
											<li class="page-item" th:if="${i != bookPage.getNumber()}">
												<a class="page-link"
												th:href="@{|/books?pageNo=${i}&pageSize=${bookPage.getSize()}&sortBy=${sortBy}|}"
												th:text="${i + 1}"></a>
										</li>

											<li class="page-item active"
											th:if="${i == bookPage.getNumber()}"><a
												class="page-link "
												th:href="@{|/books?pageNo=${i}&pageSize=${bookPage.getSize()}&sortBy=${sortBy}|}"
												th:text="${i + 1}"></a></li>

										</span>

										<li class="page-item" th:if="${bookPage.hasNext()}"><a
											class="page-link"
											th:href="@{|/books?pageNo=${bookPage.getNumber() + 1}&pageSize=${bookPage.getSize()}&sortBy=${sortBy}|}">Next</a>
										</li>
									</ul>

								</div>

								<!-- /.card-body -->
							</div>
							<!-- /.card -->
						</div>
					</div>
					<!-- /.row -->
				</div>
				<!-- /.container-fluid -->
			</section>
			<!-- /.content -->


		</div>




<script>
var myDiv = document.getElementById('myDiv');

setTimeout(function(){
			myDiv.style.display = 'none';
		},4000);
</script>

	</section>



</body>

</html>













